{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cross-domain-safe-weakmap.js","webpack:///webpack/bootstrap 2118d53789c66ae92190","webpack:///./src/index.js","webpack:///./src/interface.js","webpack:///./src/weakmap.js","webpack:///./~/cross-domain-utils/src/index.js","webpack:///./~/cross-domain-utils/src/util.js","webpack:///./src/native.js","webpack:///./src/util.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","this","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","0","Object","defineProperty","value","_interface","keys","forEach","key","enumerable","get","INTERFACE","_interopRequireWildcard","obj","__esModule","newObj","prototype","hasOwnProperty","./src/interface.js","_weakmap","CrossDomainSafeWeakMap","./src/weakmap.js","undefined","_createClass","defineProperties","target","props","i","length","descriptor","configurable","writable","Constructor","protoProps","staticProps","_src","_native","_util","_classCallCheck","instance","TypeError","counter","Date","now","name","Math","random","hasNativeWeakMap","weakmap","window","WeakMap","err","values","_cleanupClosedWindows","isWindow","isWindowClosed","splice","isSafeToReadWrite","noop","self","set","Error","index","safeIndexOf","push","entry","has","_delete","./node_modules/cross-domain-utils/src/index.js","getActualDomain","getDomain","isBlankDomain","isActuallySameDomain","isSameDomain","getParent","getOpener","getParents","isAncestorParent","getFrames","getAllChildFrames","getTop","getAllFramesInWindow","isTop","isFrameWindowClosed","linkFrameWindow","getUserAgent","getFrameByName","findChildFrameByName","findFrameByName","isParent","isOpener","getAncestor","getAncestors","isAncestor","isPopup","isIframe","isFullpage","getDistanceFromTop","getNthParent","getNthParentFromTop","isSameTopWindow","matchDomain","getDomainFromUrl","onCloseWindow","CONSTANTS","MOCK_PROTOCOL","FILE_PROTOCOL","WILDCARD","IE_WIN_ACCESS_ERROR","win","location","protocol","host","domain","mockDomain","indexOf","href","desc","getOwnPropertyDescriptor","parent","opener","result","child","childParent","frames","len","frame","_iterator","_isArray","Array","isArray","_i2","Symbol","iterator","_ref","next","done","_iterator2","_isArray2","_i3","_ref2","childFrame","top","_iterator3","_isArray3","_i4","_ref3","concat","contentWindow","parentNode","doc","ownerDocument","body","contains","collection","item","iframeWindows","iframeFrames","allowMock","arguments","closed","message","mockclosed","iframeIndex","cleanIframes","navigator","mockUserAgent","userAgent","winFrames","_iterator4","_isArray4","_i6","_ref4","_iterator5","_isArray5","_i7","_ref5","namedFrame","frameParent","_iterator6","_isArray6","_i8","_ref6","results","ancestor","actualParent","_iterator7","_isArray7","_i9","_ref7","Boolean","anyMatch","collection1","collection2","_iterator8","_isArray8","_i10","_ref8","item1","_iterator9","_isArray9","_i11","_ref9","item2","distance","n","win1","win2","top1","top2","allFrames1","allFrames2","opener1","opener2","pattern","origin","isRegex","toString","match","JSON","stringify","some","subpattern","url","split","slice","join","callback","delay","maxtime","Infinity","timeout","check","clearTimeout","setTimeout","cancel","Window","__cross_domain_utils_window_check__","./node_modules/cross-domain-utils/src/util.js","./src/native.js","freeze","testWeakMap","testKey","testValue","./src/util.js"],"mappings":"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","file":"cross-domain-safe-weakmap.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"xdsweakmap\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xdsweakmap\"] = factory();\n\telse\n\t\troot[\"xdsweakmap\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"xdsweakmap\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xdsweakmap\"] = factory();\n\telse\n\t\troot[\"xdsweakmap\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _interface = __webpack_require__(\"./src/interface.js\");\n\t\n\tObject.keys(_interface).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _interface[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar INTERFACE = _interopRequireWildcard(_interface);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\t\n\texports['default'] = INTERFACE;\n\n/***/ }),\n\n/***/ \"./src/interface.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _weakmap = __webpack_require__(\"./src/weakmap.js\");\n\t\n\tObject.defineProperty(exports, 'WeakMap', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _weakmap.CrossDomainSafeWeakMap;\n\t  }\n\t});\n\n/***/ }),\n\n/***/ \"./src/weakmap.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.CrossDomainSafeWeakMap = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _src = __webpack_require__(\"./node_modules/cross-domain-utils/src/index.js\");\n\t\n\tvar _native = __webpack_require__(\"./src/native.js\");\n\t\n\tvar _util = __webpack_require__(\"./src/util.js\");\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defineProperty = Object.defineProperty;\n\tvar counter = Date.now() % 1e9;\n\t\n\tvar CrossDomainSafeWeakMap = exports.CrossDomainSafeWeakMap = function () {\n\t    function CrossDomainSafeWeakMap() {\n\t        _classCallCheck(this, CrossDomainSafeWeakMap);\n\t\n\t        counter += 1;\n\t        this.name = '__weakmap_' + (Math.random() * 1e9 >>> 0) + '__' + counter; // eslint-disable-line\n\t\n\t        if ((0, _native.hasNativeWeakMap)()) {\n\t            try {\n\t                this.weakmap = new window.WeakMap();\n\t            } catch (err) {\n\t                // pass\n\t            }\n\t        }\n\t\n\t        this.keys = [];\n\t        this.values = [];\n\t    }\n\t\n\t    _createClass(CrossDomainSafeWeakMap, [{\n\t        key: '_cleanupClosedWindows',\n\t        value: function _cleanupClosedWindows() {\n\t\n\t            var weakmap = this.weakmap;\n\t            var keys = this.keys;\n\t\n\t            for (var i = 0; i < keys.length; i++) {\n\t                var value = keys[i];\n\t\n\t                if ((0, _src.isWindow)(value) && (0, _src.isWindowClosed)(value)) {\n\t\n\t                    if (weakmap) {\n\t                        try {\n\t                            weakmap['delete'](value);\n\t                        } catch (err) {\n\t                            // pass\n\t                        }\n\t                    }\n\t\n\t                    keys.splice(i, 1);\n\t                    this.values.splice(i, 1);\n\t\n\t                    i -= 1;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'isSafeToReadWrite',\n\t        value: function isSafeToReadWrite(key) {\n\t\n\t            if ((0, _src.isWindow)(key)) {\n\t                return false;\n\t            }\n\t\n\t            try {\n\t                (0, _util.noop)(key && key.self);\n\t                (0, _util.noop)(key && key[this.name]);\n\t            } catch (err) {\n\t                return false;\n\t            }\n\t\n\t            return true;\n\t        }\n\t    }, {\n\t        key: 'set',\n\t        value: function set(key, value) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    weakmap.set(key, value);\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                var keys = this.keys;\n\t                var values = this.values;\n\t                var index = (0, _util.safeIndexOf)(keys, key);\n\t\n\t                if (index === -1) {\n\t                    keys.push(key);\n\t                    values.push(value);\n\t                } else {\n\t                    values[index] = value;\n\t                }\n\t            } else {\n\t\n\t                var name = this.name;\n\t                var entry = key[name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    entry[1] = value;\n\t                } else {\n\t                    defineProperty(key, name, {\n\t                        value: [key, value],\n\t                        writable: true\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'get',\n\t        value: function get(key) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    if (weakmap.has(key)) {\n\t                        return weakmap.get(key);\n\t                    }\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                var keys = this.keys;\n\t                var index = (0, _util.safeIndexOf)(keys, key);\n\t\n\t                if (index === -1) {\n\t                    return;\n\t                }\n\t\n\t                return this.values[index];\n\t            } else {\n\t\n\t                var entry = key[this.name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    return entry[1];\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'delete',\n\t        value: function _delete(key) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    weakmap['delete'](key);\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                var keys = this.keys;\n\t                var index = (0, _util.safeIndexOf)(keys, key);\n\t\n\t                if (index !== -1) {\n\t                    keys.splice(index, 1);\n\t                    this.values.splice(index, 1);\n\t                }\n\t            } else {\n\t\n\t                var entry = key[this.name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    entry[0] = entry[1] = undefined;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'has',\n\t        value: function has(key) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    return weakmap.has(key);\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                var index = (0, _util.safeIndexOf)(this.keys, key);\n\t                return index !== -1;\n\t            } else {\n\t\n\t                var entry = key[this.name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    return true;\n\t                }\n\t\n\t                return false;\n\t            }\n\t        }\n\t    }]);\n\n\t    return CrossDomainSafeWeakMap;\n\t}();\n\n/***/ }),\n\n/***/ \"./node_modules/cross-domain-utils/src/index.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getActualDomain = getActualDomain;\n\texports.getDomain = getDomain;\n\texports.isBlankDomain = isBlankDomain;\n\texports.isActuallySameDomain = isActuallySameDomain;\n\texports.isSameDomain = isSameDomain;\n\texports.getParent = getParent;\n\texports.getOpener = getOpener;\n\texports.getParents = getParents;\n\texports.isAncestorParent = isAncestorParent;\n\texports.getFrames = getFrames;\n\texports.getAllChildFrames = getAllChildFrames;\n\texports.getTop = getTop;\n\texports.getAllFramesInWindow = getAllFramesInWindow;\n\texports.isTop = isTop;\n\texports.isFrameWindowClosed = isFrameWindowClosed;\n\texports.isWindowClosed = isWindowClosed;\n\texports.linkFrameWindow = linkFrameWindow;\n\texports.getUserAgent = getUserAgent;\n\texports.getFrameByName = getFrameByName;\n\texports.findChildFrameByName = findChildFrameByName;\n\texports.findFrameByName = findFrameByName;\n\texports.isParent = isParent;\n\texports.isOpener = isOpener;\n\texports.getAncestor = getAncestor;\n\texports.getAncestors = getAncestors;\n\texports.isAncestor = isAncestor;\n\texports.isPopup = isPopup;\n\texports.isIframe = isIframe;\n\texports.isFullpage = isFullpage;\n\texports.getDistanceFromTop = getDistanceFromTop;\n\texports.getNthParent = getNthParent;\n\texports.getNthParentFromTop = getNthParentFromTop;\n\texports.isSameTopWindow = isSameTopWindow;\n\texports.matchDomain = matchDomain;\n\texports.getDomainFromUrl = getDomainFromUrl;\n\texports.onCloseWindow = onCloseWindow;\n\texports.isWindow = isWindow;\n\t\n\tvar _util = __webpack_require__(\"./node_modules/cross-domain-utils/src/util.js\");\n\t\n\tvar CONSTANTS = {\n\t    MOCK_PROTOCOL: 'mock:',\n\t    FILE_PROTOCOL: 'file:',\n\t    WILDCARD: '*'\n\t};\n\t\n\tvar IE_WIN_ACCESS_ERROR = 'Call was rejected by callee.\\r\\n';\n\t\n\tfunction getActualDomain(win) {\n\t\n\t    var location = win.location;\n\t\n\t    if (!location) {\n\t        throw new Error('Can not read window location');\n\t    }\n\t\n\t    var protocol = location.protocol;\n\t\n\t    if (!protocol) {\n\t        throw new Error('Can not read window protocol');\n\t    }\n\t\n\t    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n\t        return 'file://';\n\t    }\n\t\n\t    var host = location.host;\n\t\n\t    if (!host) {\n\t        throw new Error('Can not read window host');\n\t    }\n\t\n\t    return protocol + '//' + host;\n\t}\n\t\n\tfunction getDomain(win) {\n\t\n\t    win = win || window;\n\t\n\t    var domain = getActualDomain(win);\n\t\n\t    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n\t        return win.mockDomain;\n\t    }\n\t\n\t    return domain;\n\t}\n\t\n\tfunction isBlankDomain(win) {\n\t    try {\n\t        if (!win.location.href) {\n\t            return true;\n\t        }\n\t\n\t        if (win.location.href === 'about:blank') {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isActuallySameDomain(win) {\n\t\n\t    try {\n\t        var desc = Object.getOwnPropertyDescriptor(win, 'location');\n\t\n\t        if (desc && desc.enumerable === false) {\n\t            return false;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    try {\n\t        if (isBlankDomain(win)) {\n\t            return true;\n\t        }\n\t\n\t        // $FlowFixMe\n\t        if (getActualDomain(win) === getActualDomain(window)) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isSameDomain(win) {\n\t\n\t    if (!isActuallySameDomain(win)) {\n\t        return false;\n\t    }\n\t\n\t    try {\n\t\n\t        if (isBlankDomain(win)) {\n\t            return true;\n\t        }\n\t\n\t        // $FlowFixMe\n\t        if (getDomain(window) === getDomain(win)) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction getParent(win) {\n\t\n\t    if (!win) {\n\t        return;\n\t    }\n\t\n\t    try {\n\t        if (win.parent && win.parent !== win) {\n\t            return win.parent;\n\t        }\n\t    } catch (err) {\n\t        return;\n\t    }\n\t}\n\t\n\tfunction getOpener(win) {\n\t\n\t    if (!win) {\n\t        return;\n\t    }\n\t\n\t    // Make sure we're not actually an iframe which has had window.open() called on us\n\t    if (getParent(win)) {\n\t        return;\n\t    }\n\t\n\t    try {\n\t        return win.opener;\n\t    } catch (err) {\n\t        return;\n\t    }\n\t}\n\t\n\tfunction getParents(win) {\n\t\n\t    var result = [];\n\t\n\t    try {\n\t\n\t        while (win.parent !== win) {\n\t            result.push(win.parent);\n\t            win = win.parent;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction isAncestorParent(parent, child) {\n\t\n\t    if (!parent || !child) {\n\t        return false;\n\t    }\n\t\n\t    var childParent = getParent(child);\n\t\n\t    if (childParent) {\n\t        return childParent === parent;\n\t    }\n\t\n\t    if (getParents(child).indexOf(parent) !== -1) {\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction getFrames(win) {\n\t\n\t    var result = [];\n\t\n\t    var frames = void 0;\n\t\n\t    try {\n\t        frames = win.frames;\n\t    } catch (err) {\n\t        frames = win;\n\t    }\n\t\n\t    var len = void 0;\n\t\n\t    try {\n\t        len = frames.length;\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    if (len === 0) {\n\t        return result;\n\t    }\n\t\n\t    if (len) {\n\t        for (var i = 0; i < len; i++) {\n\t\n\t            var frame = void 0;\n\t\n\t            try {\n\t                frame = frames[i];\n\t            } catch (err) {\n\t                continue;\n\t            }\n\t\n\t            result.push(frame);\n\t        }\n\t\n\t        return result;\n\t    }\n\t\n\t    for (var _i = 0; _i < 100; _i++) {\n\t        var _frame = void 0;\n\t\n\t        try {\n\t            _frame = frames[_i];\n\t        } catch (err) {\n\t            return result;\n\t        }\n\t\n\t        if (!_frame) {\n\t            return result;\n\t        }\n\t\n\t        result.push(_frame);\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction getAllChildFrames(win) {\n\t\n\t    var result = [];\n\t\n\t    for (var _iterator = getFrames(win), _isArray = Array.isArray(_iterator), _i2 = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n\t        var _ref;\n\t\n\t        if (_isArray) {\n\t            if (_i2 >= _iterator.length) break;\n\t            _ref = _iterator[_i2++];\n\t        } else {\n\t            _i2 = _iterator.next();\n\t            if (_i2.done) break;\n\t            _ref = _i2.value;\n\t        }\n\t\n\t        var frame = _ref;\n\t\n\t        result.push(frame);\n\t\n\t        for (var _iterator2 = getAllChildFrames(frame), _isArray2 = Array.isArray(_iterator2), _i3 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n\t            var _ref2;\n\t\n\t            if (_isArray2) {\n\t                if (_i3 >= _iterator2.length) break;\n\t                _ref2 = _iterator2[_i3++];\n\t            } else {\n\t                _i3 = _iterator2.next();\n\t                if (_i3.done) break;\n\t                _ref2 = _i3.value;\n\t            }\n\t\n\t            var childFrame = _ref2;\n\t\n\t            result.push(childFrame);\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction getTop(win) {\n\t\n\t    if (!win) {\n\t        return;\n\t    }\n\t\n\t    try {\n\t        if (win.top) {\n\t            return win.top;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    if (getParent(win) === win) {\n\t        return win;\n\t    }\n\t\n\t    try {\n\t        if (isAncestorParent(window, win) && window.top) {\n\t            return window.top;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    try {\n\t        if (isAncestorParent(win, window) && window.top) {\n\t            return window.top;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    for (var _iterator3 = getAllChildFrames(win), _isArray3 = Array.isArray(_iterator3), _i4 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n\t        var _ref3;\n\t\n\t        if (_isArray3) {\n\t            if (_i4 >= _iterator3.length) break;\n\t            _ref3 = _iterator3[_i4++];\n\t        } else {\n\t            _i4 = _iterator3.next();\n\t            if (_i4.done) break;\n\t            _ref3 = _i4.value;\n\t        }\n\t\n\t        var frame = _ref3;\n\t\n\t        try {\n\t            if (frame.top) {\n\t                return frame.top;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t\n\t        if (getParent(frame) === frame) {\n\t            return frame;\n\t        }\n\t    }\n\t}\n\t\n\tfunction getAllFramesInWindow(win) {\n\t    var top = getTop(win);\n\t    // $FlowFixMe\n\t    return getAllChildFrames(top).concat(top);\n\t}\n\t\n\tfunction isTop(win) {\n\t    return win === getTop(win);\n\t}\n\t\n\tfunction isFrameWindowClosed(frame) {\n\t\n\t    if (!frame.contentWindow) {\n\t        return true;\n\t    }\n\t\n\t    if (!frame.parentNode) {\n\t        return true;\n\t    }\n\t\n\t    var doc = frame.ownerDocument;\n\t\n\t    if (doc && doc.body && !doc.body.contains(frame)) {\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction safeIndexOf(collection, item) {\n\t    for (var i = 0; i < collection.length; i++) {\n\t\n\t        try {\n\t            if (collection[i] === item) {\n\t                return i;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t\n\t    return -1;\n\t}\n\t\n\tvar iframeWindows = [];\n\tvar iframeFrames = [];\n\t\n\tfunction isWindowClosed(win) {\n\t    var allowMock = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\n\t\n\t    try {\n\t        if (win === window) {\n\t            return false;\n\t        }\n\t    } catch (err) {\n\t        return true;\n\t    }\n\t\n\t    try {\n\t        if (!win) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        return true;\n\t    }\n\t\n\t    try {\n\t        if (win.closed) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t\n\t        // I love you so much IE\n\t\n\t        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n\t            return false;\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    if (allowMock && isSameDomain(win)) {\n\t        try {\n\t            if (win.mockclosed) {\n\t                return true;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t\n\t    // Mobile safari\n\t\n\t    try {\n\t        if (!win.parent || !win.top) {\n\t            return true;\n\t        }\n\t    } catch (err) {}\n\t    // pass\n\t\n\t\n\t    // Yes, this actually happens in IE. win === win errors out when the window\n\t    // is from an iframe, and the iframe was removed from the page.\n\t\n\t    try {\n\t        (0, _util.noop)(win === win); // eslint-disable-line no-self-compare\n\t    } catch (err) {\n\t        return true;\n\t    }\n\t\n\t    // IE orphaned frame\n\t\n\t    var iframeIndex = safeIndexOf(iframeWindows, win);\n\t\n\t    if (iframeIndex !== -1) {\n\t        var frame = iframeFrames[iframeIndex];\n\t\n\t        if (frame && isFrameWindowClosed(frame)) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction cleanIframes() {\n\t\n\t    for (var i = 0; i < iframeFrames.length; i++) {\n\t        if (isFrameWindowClosed(iframeFrames[i])) {\n\t            iframeFrames.splice(i, 1);\n\t            iframeWindows.splice(i, 1);\n\t        }\n\t    }\n\t\n\t    for (var _i5 = 0; _i5 < iframeWindows.length; _i5++) {\n\t        if (isWindowClosed(iframeWindows[_i5])) {\n\t            iframeFrames.splice(_i5, 1);\n\t            iframeWindows.splice(_i5, 1);\n\t        }\n\t    }\n\t}\n\t\n\tfunction linkFrameWindow(frame) {\n\t\n\t    cleanIframes();\n\t\n\t    if (frame && frame.contentWindow) {\n\t        try {\n\t            iframeWindows.push(frame.contentWindow);\n\t            iframeFrames.push(frame);\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t}\n\t\n\tfunction getUserAgent(win) {\n\t    win = win || window;\n\t    return win.navigator.mockUserAgent || win.navigator.userAgent;\n\t}\n\t\n\tfunction getFrameByName(win, name) {\n\t\n\t    var winFrames = getFrames(win);\n\t\n\t    for (var _iterator4 = winFrames, _isArray4 = Array.isArray(_iterator4), _i6 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n\t        var _ref4;\n\t\n\t        if (_isArray4) {\n\t            if (_i6 >= _iterator4.length) break;\n\t            _ref4 = _iterator4[_i6++];\n\t        } else {\n\t            _i6 = _iterator4.next();\n\t            if (_i6.done) break;\n\t            _ref4 = _i6.value;\n\t        }\n\t\n\t        var childFrame = _ref4;\n\t\n\t        try {\n\t            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n\t                return childFrame;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t\n\t    try {\n\t        // $FlowFixMe\n\t        if (winFrames.indexOf(win.frames[name]) !== -1) {\n\t            // $FlowFixMe\n\t            return win.frames[name];\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    try {\n\t        if (winFrames.indexOf(win[name]) !== -1) {\n\t            return win[name];\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t}\n\t\n\tfunction findChildFrameByName(win, name) {\n\t\n\t    var frame = getFrameByName(win, name);\n\t\n\t    if (frame) {\n\t        return frame;\n\t    }\n\t\n\t    for (var _iterator5 = getFrames(win), _isArray5 = Array.isArray(_iterator5), _i7 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n\t        var _ref5;\n\t\n\t        if (_isArray5) {\n\t            if (_i7 >= _iterator5.length) break;\n\t            _ref5 = _iterator5[_i7++];\n\t        } else {\n\t            _i7 = _iterator5.next();\n\t            if (_i7.done) break;\n\t            _ref5 = _i7.value;\n\t        }\n\t\n\t        var childFrame = _ref5;\n\t\n\t        var namedFrame = findChildFrameByName(childFrame, name);\n\t\n\t        if (namedFrame) {\n\t            return namedFrame;\n\t        }\n\t    }\n\t}\n\t\n\tfunction findFrameByName(win, name) {\n\t\n\t    var frame = void 0;\n\t\n\t    frame = getFrameByName(win, name);\n\t\n\t    if (frame) {\n\t        return frame;\n\t    }\n\t\n\t    var top = getTop(win) || win;\n\t\n\t    return findChildFrameByName(top, name);\n\t}\n\t\n\tfunction isParent(win, frame) {\n\t\n\t    var frameParent = getParent(frame);\n\t\n\t    if (frameParent) {\n\t        return frameParent === win;\n\t    }\n\t\n\t    for (var _iterator6 = getFrames(win), _isArray6 = Array.isArray(_iterator6), _i8 = 0, _iterator6 = _isArray6 ? _iterator6 : _iterator6[Symbol.iterator]();;) {\n\t        var _ref6;\n\t\n\t        if (_isArray6) {\n\t            if (_i8 >= _iterator6.length) break;\n\t            _ref6 = _iterator6[_i8++];\n\t        } else {\n\t            _i8 = _iterator6.next();\n\t            if (_i8.done) break;\n\t            _ref6 = _i8.value;\n\t        }\n\t\n\t        var childFrame = _ref6;\n\t\n\t        if (childFrame === frame) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isOpener(parent, child) {\n\t\n\t    return parent === getOpener(child);\n\t}\n\t\n\tfunction getAncestor(win) {\n\t    win = win || window;\n\t\n\t    var opener = getOpener(win);\n\t\n\t    if (opener) {\n\t        return opener;\n\t    }\n\t\n\t    var parent = getParent(win);\n\t\n\t    if (parent) {\n\t        return parent;\n\t    }\n\t}\n\t\n\tfunction getAncestors(win) {\n\t\n\t    var results = [];\n\t\n\t    var ancestor = win;\n\t\n\t    while (ancestor) {\n\t        ancestor = getAncestor(ancestor);\n\t        if (ancestor) {\n\t            results.push(ancestor);\n\t        }\n\t    }\n\t\n\t    return results;\n\t}\n\t\n\tfunction isAncestor(parent, child) {\n\t\n\t    var actualParent = getAncestor(child);\n\t\n\t    if (actualParent) {\n\t        if (actualParent === parent) {\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    }\n\t\n\t    if (child === parent) {\n\t        return false;\n\t    }\n\t\n\t    if (getTop(child) === child) {\n\t        return false;\n\t    }\n\t\n\t    for (var _iterator7 = getFrames(parent), _isArray7 = Array.isArray(_iterator7), _i9 = 0, _iterator7 = _isArray7 ? _iterator7 : _iterator7[Symbol.iterator]();;) {\n\t        var _ref7;\n\t\n\t        if (_isArray7) {\n\t            if (_i9 >= _iterator7.length) break;\n\t            _ref7 = _iterator7[_i9++];\n\t        } else {\n\t            _i9 = _iterator7.next();\n\t            if (_i9.done) break;\n\t            _ref7 = _i9.value;\n\t        }\n\t\n\t        var frame = _ref7;\n\t\n\t        if (frame === child) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isPopup() {\n\t    return Boolean(getOpener(window));\n\t}\n\t\n\tfunction isIframe() {\n\t    return Boolean(getParent(window));\n\t}\n\t\n\tfunction isFullpage() {\n\t    return Boolean(!isIframe() && !isPopup());\n\t}\n\t\n\tfunction anyMatch(collection1, collection2) {\n\t\n\t    for (var _iterator8 = collection1, _isArray8 = Array.isArray(_iterator8), _i10 = 0, _iterator8 = _isArray8 ? _iterator8 : _iterator8[Symbol.iterator]();;) {\n\t        var _ref8;\n\t\n\t        if (_isArray8) {\n\t            if (_i10 >= _iterator8.length) break;\n\t            _ref8 = _iterator8[_i10++];\n\t        } else {\n\t            _i10 = _iterator8.next();\n\t            if (_i10.done) break;\n\t            _ref8 = _i10.value;\n\t        }\n\t\n\t        var item1 = _ref8;\n\t\n\t        for (var _iterator9 = collection2, _isArray9 = Array.isArray(_iterator9), _i11 = 0, _iterator9 = _isArray9 ? _iterator9 : _iterator9[Symbol.iterator]();;) {\n\t            var _ref9;\n\t\n\t            if (_isArray9) {\n\t                if (_i11 >= _iterator9.length) break;\n\t                _ref9 = _iterator9[_i11++];\n\t            } else {\n\t                _i11 = _iterator9.next();\n\t                if (_i11.done) break;\n\t                _ref9 = _i11.value;\n\t            }\n\t\n\t            var item2 = _ref9;\n\t\n\t            if (item1 === item2) {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction getDistanceFromTop() {\n\t    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\t\n\t    var distance = 0;\n\t    var parent = win;\n\t\n\t    while (parent) {\n\t        parent = getParent(parent);\n\t        if (parent) {\n\t            distance += 1;\n\t        }\n\t    }\n\t\n\t    return distance;\n\t}\n\t\n\tfunction getNthParent(win) {\n\t    var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\t\n\t    var parent = win;\n\t\n\t    for (var i = 0; i < n; i++) {\n\t        if (!parent) {\n\t            return;\n\t        }\n\t\n\t        parent = getParent(parent);\n\t    }\n\t\n\t    return parent;\n\t}\n\t\n\tfunction getNthParentFromTop(win) {\n\t    var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\t\n\t    return getNthParent(win, getDistanceFromTop(win) - n);\n\t}\n\t\n\tfunction isSameTopWindow(win1, win2) {\n\t\n\t    var top1 = getTop(win1) || win1;\n\t    var top2 = getTop(win2) || win2;\n\t\n\t    try {\n\t        if (top1 && top2) {\n\t            if (top1 === top2) {\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    var allFrames1 = getAllFramesInWindow(win1);\n\t    var allFrames2 = getAllFramesInWindow(win2);\n\t\n\t    if (anyMatch(allFrames1, allFrames2)) {\n\t        return true;\n\t    }\n\t\n\t    var opener1 = getOpener(top1);\n\t    var opener2 = getOpener(top2);\n\t\n\t    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n\t        return false;\n\t    }\n\t\n\t    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n\t        return false;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction matchDomain(pattern, origin) {\n\t\n\t    if (typeof pattern === 'string') {\n\t\n\t        if (typeof origin === 'string') {\n\t            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n\t        }\n\t\n\t        if ((0, _util.isRegex)(origin)) {\n\t            return false;\n\t        }\n\t\n\t        if (Array.isArray(origin)) {\n\t            return false;\n\t        }\n\t    }\n\t\n\t    if ((0, _util.isRegex)(pattern)) {\n\t\n\t        if ((0, _util.isRegex)(origin)) {\n\t            return pattern.toString() === origin.toString();\n\t        }\n\t\n\t        if (Array.isArray(origin)) {\n\t            return false;\n\t        }\n\t\n\t        // $FlowFixMe\n\t        return Boolean(origin.match(pattern));\n\t    }\n\t\n\t    if (Array.isArray(pattern)) {\n\t\n\t        if (Array.isArray(origin)) {\n\t            return JSON.stringify(pattern) === JSON.stringify(origin);\n\t        }\n\t\n\t        if ((0, _util.isRegex)(origin)) {\n\t            return false;\n\t        }\n\t\n\t        return pattern.some(function (subpattern) {\n\t            return matchDomain(subpattern, origin);\n\t        });\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction getDomainFromUrl(url) {\n\t\n\t    var domain = void 0;\n\t\n\t    if (url.match(/^(https?|mock|file):\\/\\//)) {\n\t        domain = url;\n\t    } else {\n\t        return getDomain();\n\t    }\n\t\n\t    domain = domain.split('/').slice(0, 3).join('/');\n\t\n\t    return domain;\n\t}\n\t\n\tfunction onCloseWindow(win, callback) {\n\t    var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n\t    var maxtime = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Infinity;\n\t\n\t\n\t    var timeout = void 0;\n\t\n\t    var check = function check() {\n\t\n\t        if (isWindowClosed(win)) {\n\t\n\t            if (timeout) {\n\t                clearTimeout(timeout);\n\t            }\n\t\n\t            return callback();\n\t        }\n\t\n\t        if (maxtime <= 0) {\n\t            clearTimeout(timeout);\n\t        } else {\n\t            maxtime -= delay;\n\t            timeout = setTimeout(check, delay);\n\t        }\n\t    };\n\t\n\t    check();\n\t\n\t    return {\n\t        cancel: function cancel() {\n\t            if (timeout) {\n\t                clearTimeout(timeout);\n\t            }\n\t        }\n\t    };\n\t}\n\t\n\tfunction isWindow(obj) {\n\t\n\t    try {\n\t        if (obj === window) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    try {\n\t        if (Object.prototype.toString.call(obj) === '[object Window]') {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    try {\n\t        if (window.Window && obj instanceof window.Window) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    try {\n\t        if (obj && obj.self === obj) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    try {\n\t        if (obj && obj.parent === obj) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    try {\n\t        if (obj && obj.top === obj) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    try {\n\t        (0, _util.noop)(obj === obj); // eslint-disable-line no-self-compare\n\t    } catch (err) {\n\t        return true;\n\t    }\n\t\n\t    try {\n\t        (0, _util.noop)(obj && obj.__cross_domain_utils_window_check__);\n\t    } catch (err) {\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\n/***/ }),\n\n/***/ \"./node_modules/cross-domain-utils/src/util.js\":\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.isRegex = isRegex;\n\texports.noop = noop;\n\tfunction isRegex(item) {\n\t    return Object.prototype.toString.call(item) === '[object RegExp]';\n\t}\n\t\n\tfunction noop() {\n\t    // pass\n\t}\n\n/***/ }),\n\n/***/ \"./src/native.js\":\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.hasNativeWeakMap = hasNativeWeakMap;\n\tfunction hasNativeWeakMap() {\n\t\n\t    if (!window.WeakMap) {\n\t        return false;\n\t    }\n\t\n\t    if (!window.Object.freeze) {\n\t        return false;\n\t    }\n\t\n\t    try {\n\t\n\t        var testWeakMap = new window.WeakMap();\n\t        var testKey = {};\n\t        var testValue = '__testvalue__';\n\t\n\t        window.Object.freeze(testKey);\n\t\n\t        testWeakMap.set(testKey, testValue);\n\t\n\t        if (testWeakMap.get(testKey) === testValue) {\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    } catch (err) {\n\t\n\t        return false;\n\t    }\n\t}\n\n/***/ }),\n\n/***/ \"./src/util.js\":\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.safeIndexOf = safeIndexOf;\n\texports.noop = noop;\n\tfunction safeIndexOf(collection, item) {\n\t    for (var i = 0; i < collection.length; i++) {\n\t\n\t        try {\n\t            if (collection[i] === item) {\n\t                return i;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t\n\t    return -1;\n\t}\n\t\n\tfunction noop() {\n\t    // pass\n\t}\n\n/***/ })\n\n/******/ })\n});\n;\n\n\n// WEBPACK FOOTER //\n// cross-domain-safe-weakmap.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2118d53789c66ae92190","/* @flow */\n\nimport * as INTERFACE from './interface';\nexport * from './interface';\nexport default INTERFACE;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* @flow */\n\nexport { CrossDomainSafeWeakMap as WeakMap } from './weakmap';\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface.js","/* @flow */\n\nimport { isWindow, isWindowClosed } from 'cross-domain-utils/src';\n\nimport { hasNativeWeakMap } from './native';\nimport { noop, safeIndexOf } from './util';\n\nlet defineProperty = Object.defineProperty;\nlet counter = Date.now() % 1e9;\n\nexport class CrossDomainSafeWeakMap<K : Object, V : mixed> {\n\n    name : string\n    weakmap : WeakMap<K, V>\n    keys : Array<K>\n    values : Array<V>\n\n    constructor() {\n        counter += 1;\n        this.name = `__weakmap_${Math.random() * 1e9 >>> 0}__${counter}`; // eslint-disable-line\n\n        if (hasNativeWeakMap()) {\n            try {\n                this.weakmap = new window.WeakMap();\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this.keys  = [];\n        this.values = [];\n    }\n\n    _cleanupClosedWindows() {\n\n        let weakmap = this.weakmap;\n        let keys = this.keys;\n\n        for (let i = 0; i < keys.length; i++) {\n            let value = keys[i];\n\n            if (isWindow(value) && isWindowClosed(value)) {\n\n                if (weakmap) {\n                    try {\n                        weakmap.delete(value);\n                    } catch (err) {\n                        // pass\n                    }\n                }\n\n                keys.splice(i, 1);\n                this.values.splice(i, 1);\n\n                i -= 1;\n            }\n        }\n    }\n\n    isSafeToReadWrite(key : K) : boolean {\n\n        if (isWindow(key)) {\n            return false;\n        }\n\n        try {\n            noop(key && key.self);\n            noop(key && key[this.name]);\n        } catch (err) {\n            return false;\n        }\n\n        return true;\n    }\n\n    set(key : K, value : V) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.set(key, value);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            let keys = this.keys;\n            let values = this.values;\n            let index = safeIndexOf(keys, key);\n\n            if (index === -1) {\n                keys.push(key);\n                values.push(value);\n            } else {\n                values[index] = value;\n            }\n\n        } else {\n\n            let name = this.name;\n            let entry = key[name];\n\n            if (entry && entry[0] === key) {\n                entry[1] = value;\n            } else {\n                defineProperty(key, name, {\n                    value: [ key, value ],\n                    writable: true\n                });\n            }\n        }\n    }\n\n    get(key : K) : V | void {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                if (weakmap.has(key)) {\n                    return weakmap.get(key);\n                }\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            let keys = this.keys;\n            let index = safeIndexOf(keys, key);\n\n            if (index === -1) {\n                return;\n            }\n\n            return this.values[index];\n\n        } else {\n\n            let entry = key[this.name];\n\n            if (entry && entry[0] === key) {\n                return entry[1];\n            }\n        }\n    }\n\n    delete(key : K) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.delete(key);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            let keys = this.keys;\n            let index = safeIndexOf(keys, key);\n\n            if (index !== -1) {\n                keys.splice(index, 1);\n                this.values.splice(index, 1);\n            }\n\n        } else {\n\n            let entry = key[this.name];\n\n            if (entry && entry[0] === key) {\n                entry[0] = entry[1] = undefined;\n            }\n        }\n    }\n\n    has(key : K) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                return weakmap.has(key);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            let index = safeIndexOf(this.keys, key);\n            return index !== -1;\n\n        } else {\n\n            let entry = key[this.name];\n\n            if (entry && entry[0] === key) {\n                return true;\n            }\n\n            return false;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/weakmap.js","// @flow\n\nimport { isRegex, noop } from './util';\n\nconst CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    WILDCARD: '*'\n};\n\nlet IE_WIN_ACCESS_ERROR = 'Call was rejected by callee.\\r\\n';\n\nexport function getActualDomain(win : SameDomainWindowType) : string {\n\n    let location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    let protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return 'file://';\n    }\n\n    let host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${protocol}//${host}`;\n}\n\nexport function getDomain(win : ?SameDomainWindowType) : string {\n\n    win = win || window;\n\n    let domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isBlankDomain(win : CrossDomainWindowType) : boolean {\n    try {\n        if (!win.location.href) {\n            return true;\n        }\n\n        if (win.location.href === 'about:blank') {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isActuallySameDomain(win : CrossDomainWindowType) : boolean {\n\n    try {\n        let desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isBlankDomain(win)) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n\n        if (isBlankDomain(win)) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getParent(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nexport function getOpener(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\n\n\nexport function getParents(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    let childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    for (let frame of getFrames(win)) {\n        result.push(frame);\n\n        for (let childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win : CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (let frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\nexport function getAllFramesInWindow(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n    let top = getTop(win);\n    // $FlowFixMe\n    return getAllChildFrames(top).concat(top);\n}\n\nexport function isTop(win : CrossDomainWindowType) : boolean {\n    return win === getTop(win);\n}\n\nexport function isFrameWindowClosed(frame : HTMLIFrameElement) : boolean {\n\n    if (!frame.contentWindow) {\n        return true;\n    }\n\n    if (!frame.parentNode) {\n        return true;\n    }\n\n    let doc = frame.ownerDocument;\n\n    if (doc && doc.body && !doc.body.contains(frame)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction safeIndexOf<T>(collection : Array<T>, item : T) : number {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\nlet iframeWindows = [];\nlet iframeFrames = [];\n\nexport function isWindowClosed(win : CrossDomainWindowType, allowMock : boolean = true) : boolean {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    // Yes, this actually happens in IE. win === win errors out when the window\n    // is from an iframe, and the iframe was removed from the page.\n\n    try {\n        noop(win === win); // eslint-disable-line no-self-compare\n    } catch (err) {\n        return true;\n    }\n\n    // IE orphaned frame\n\n    let iframeIndex = safeIndexOf(iframeWindows, win);\n\n    if (iframeIndex !== -1) {\n        let frame = iframeFrames[iframeIndex];\n\n        if (frame && isFrameWindowClosed(frame)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction cleanIframes() {\n\n    for (let i = 0; i < iframeFrames.length; i++) {\n        if (isFrameWindowClosed(iframeFrames[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n\n    for (let i = 0; i < iframeWindows.length; i++) {\n        if (isWindowClosed(iframeWindows[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n}\n\nexport function linkFrameWindow(frame : HTMLIFrameElement) {\n\n    cleanIframes();\n\n    if (frame && frame.contentWindow) {\n        try {\n            iframeWindows.push(frame.contentWindow);\n            iframeFrames.push(frame);\n        } catch (err) {\n            // pass\n        }\n    }\n}\n\nexport function getUserAgent(win : ?SameDomainWindowType) : string {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let winFrames = getFrames(win);\n\n    for (let childFrame of winFrames) {\n        try {\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        // $FlowFixMe\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            // $FlowFixMe\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        let namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    let top = getTop(win) || win;\n\n    return findChildFrameByName(top, name);\n}\n\nexport function isParent(win : CrossDomainWindowType, frame : CrossDomainWindowType) : boolean {\n\n    let frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n    win = win || window;\n\n    let opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    let parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    let actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (let frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup() : boolean {\n    return Boolean(getOpener(window));\n}\n\nexport function isIframe() : boolean {\n    return Boolean(getParent(window));\n}\n\nexport function isFullpage() : boolean {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) : boolean {\n\n    for (let item1 of collection1) {\n        for (let item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nexport function getDistanceFromTop(win : CrossDomainWindowType = window) : number {\n    let distance = 0;\n    let parent = win;\n\n    while (parent) {\n        parent = getParent(parent);\n        if (parent) {\n            distance += 1;\n        }\n    }\n\n    return distance;\n}\n\nexport function getNthParent(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    let parent = win;\n\n    for (let i = 0; i < n; i++) {\n        if (!parent) {\n            return;\n        }\n\n        parent = getParent(parent);\n    }\n\n    return parent;\n}\n\nexport function getNthParentFromTop(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nexport function isSameTopWindow(win1 : CrossDomainWindowType, win2 : CrossDomainWindowType) : boolean {\n\n    let top1 = getTop(win1) || win1;\n    let top2 = getTop(win2) || win2;\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    let allFrames1 = getAllFramesInWindow(win1);\n    let allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    let opener1 = getOpener(top1);\n    let opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n\n    return false;\n}\n\nexport function matchDomain(pattern : (string | Array<string> | RegExp), origin : (string | Array<string> | RegExp)) : boolean {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        // $FlowFixMe\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function getDomainFromUrl(url : string) : string {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\nexport function onCloseWindow(win : CrossDomainWindowType, callback : Function, delay : number = 1000, maxtime : number = Infinity) : { cancel : () => void } {\n\n    let timeout;\n\n    let check = () => {\n\n        if (isWindowClosed(win)) {\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            return callback();\n        }\n\n        if (maxtime <= 0) {\n            clearTimeout(timeout);\n        } else {\n            maxtime -= delay;\n            timeout = setTimeout(check, delay);\n        }\n    };\n\n    check();\n\n    return {\n        cancel() {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    };\n}\n\nexport function isWindow(obj : Object) : boolean {\n\n    try {\n        if (obj === window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (Object.prototype.toString.call(obj) === '[object Window]') {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (window.Window && obj instanceof window.Window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.self === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.parent === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.top === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        noop(obj === obj);  // eslint-disable-line no-self-compare\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        noop(obj && obj.__cross_domain_utils_window_check__);\n\n    } catch (err) {\n        return true;\n    }\n\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cross-domain-utils/src/index.js","// @flow\n\nexport function isRegex(item : mixed) : boolean {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\nexport function noop(...args : Array<mixed>) {\n    // pass\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cross-domain-utils/src/util.js","/* @flow */\n\nexport function hasNativeWeakMap() {\n\n    if (!window.WeakMap) {\n        return false;\n    }\n\n    if (!window.Object.freeze) {\n        return false;\n    }\n\n    try {\n\n        let testWeakMap = new window.WeakMap();\n        let testKey = {};\n        let testValue = '__testvalue__';\n\n        window.Object.freeze(testKey);\n\n        testWeakMap.set(testKey, testValue);\n\n        if (testWeakMap.get(testKey) === testValue) {\n            return true;\n        }\n\n        return false;\n\n    } catch (err) {\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/native.js","/* @flow */\n\nexport function safeIndexOf<T>(collection : Array<T>, item : T) {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\nexport function noop(...args : Array<mixed>) {\n    // pass\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}
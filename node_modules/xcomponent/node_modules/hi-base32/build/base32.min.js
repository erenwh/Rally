/*
 * hi-base32 v0.1.1
 * https://github.com/emn178/hi-base32
 *
 * Copyright 2015, emn178@gmail.com
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
(function(t,x){var u="undefined"!=typeof module;u&&(t=global);var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),f={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},m=[0,0,0,0,0,0,0,0],v=function(a){for(var f="",d=a.length,c=0,g=0,b,l;c<d;)if(b=a[c++],127>=b)f+=String.fromCharCode(b);else{if(191<b&&223>=b)l=b&31,g=1;else if(239>=b)l=b&15,g=2;else if(247>=b)l=b&7,g=3;else throw"not a UTF-8 string";
for(var k=0;k<g;++k){b=a[c++];if(128>b||191<b)throw"not a UTF-8 string";l<<=6;l+=b&63}if(55296<=l&&57343>=l)throw"not a UTF-8 string";if(1114111<l)throw"not a UTF-8 string";65535>=l?f+=String.fromCharCode(l):(l-=65536,f+=String.fromCharCode((l>>10)+55296),f+=String.fromCharCode((l&1023)+56320))}return f},w=function(a){a=a.replace(/=/g,"");for(var m,d,c,g,b,l,k,n,p=[],e=0,q=a.length,h=0,r=q>>3<<3;h<r;)m=f[a.charAt(h++)],d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],b=f[a.charAt(h++)],l=
f[a.charAt(h++)],k=f[a.charAt(h++)],n=f[a.charAt(h++)],p[e++]=(m<<3|d>>>2)&255,p[e++]=(d<<6|c<<1|g>>>4)&255,p[e++]=(g<<4|b>>>1)&255,p[e++]=(b<<7|l<<2|k>>>3)&255,p[e++]=(k<<5|n)&255;m=q-r;2==m?(m=f[a.charAt(h++)],d=f[a.charAt(h++)],p[e++]=(m<<3|d>>>2)&255):4==m?(m=f[a.charAt(h++)],d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],p[e++]=(m<<3|d>>>2)&255,p[e++]=(d<<6|c<<1|g>>>4)&255):5==m?(m=f[a.charAt(h++)],d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],b=f[a.charAt(h++)],p[e++]=(m<<
3|d>>>2)&255,p[e++]=(d<<6|c<<1|g>>>4)&255,p[e++]=(g<<4|b>>>1)&255):7==m&&(m=f[a.charAt(h++)],d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],b=f[a.charAt(h++)],l=f[a.charAt(h++)],k=f[a.charAt(h++)],p[e++]=(m<<3|d>>>2)&255,p[e++]=(d<<6|c<<1|g>>>4)&255,p[e++]=(g<<4|b>>>1)&255,p[e++]=(b<<7|l<<2|k>>>3)&255);return p},r=function(a,m){if(!m)return v(w(a));var d,c,g,b,l,k,n,p,e="",q=a.indexOf("=");-1==q&&(q=a.length);for(var h=0,r=q>>3<<3;h<r;)d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],
b=f[a.charAt(h++)],l=f[a.charAt(h++)],k=f[a.charAt(h++)],n=f[a.charAt(h++)],p=f[a.charAt(h++)],e+=String.fromCharCode((d<<3|c>>>2)&255)+String.fromCharCode((c<<6|g<<1|b>>>4)&255)+String.fromCharCode((b<<4|l>>>1)&255)+String.fromCharCode((l<<7|k<<2|n>>>3)&255)+String.fromCharCode((n<<5|p)&255);d=q-r;2==d?(d=f[a.charAt(h++)],c=f[a.charAt(h++)],e+=String.fromCharCode((d<<3|c>>>2)&255)):4==d?(d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],b=f[a.charAt(h++)],e+=String.fromCharCode((d<<3|c>>>
2)&255)+String.fromCharCode((c<<6|g<<1|b>>>4)&255)):5==d?(d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],b=f[a.charAt(h++)],l=f[a.charAt(h++)],e+=String.fromCharCode((d<<3|c>>>2)&255)+String.fromCharCode((c<<6|g<<1|b>>>4)&255)+String.fromCharCode((b<<4|l>>>1)&255)):7==d&&(d=f[a.charAt(h++)],c=f[a.charAt(h++)],g=f[a.charAt(h++)],b=f[a.charAt(h++)],l=f[a.charAt(h++)],k=f[a.charAt(h++)],n=f[a.charAt(h++)],e+=String.fromCharCode((d<<3|c>>>2)&255)+String.fromCharCode((c<<6|g<<1|b>>>4)&255)+String.fromCharCode((b<<
4|l>>>1)&255)+String.fromCharCode((l<<7|k<<2|n>>>3)&255));return e};r.asBytes=w;r={encode:function(f,r){var d="string"!=typeof f;d&&f.constructor==ArrayBuffer&&(f=new Uint8Array(f));if(d){for(var d=f,c,g,b,l,k,n="",p=d.length,e=0,q=5*parseInt(p/5);e<q;)c=d[e++],g=d[e++],b=d[e++],l=d[e++],k=d[e++],n+=a[c>>>3]+a[(c<<2|g>>>6)&31]+a[g>>>1&31]+a[(g<<4|b>>>4)&31]+a[(b<<1|l>>>7)&31]+a[l>>>2&31]+a[(l<<3|k>>>5)&31]+a[k&31];c=p-q;1==c?(c=d[e],n+=a[c>>>3]+a[c<<2&31]+"======"):2==c?(c=d[e++],g=d[e],n+=a[c>>>
3]+a[(c<<2|g>>>6)&31]+a[g>>>1&31]+a[g<<4&31]+"===="):3==c?(c=d[e++],g=d[e++],b=d[e],n+=a[c>>>3]+a[(c<<2|g>>>6)&31]+a[g>>>1&31]+a[(g<<4|b>>>4)&31]+a[b<<1&31]+"==="):4==c&&(c=d[e++],g=d[e++],b=d[e++],l=d[e],n+=a[c>>>3]+a[(c<<2|g>>>6)&31]+a[g>>>1&31]+a[(g<<4|b>>>4)&31]+a[(b<<1|l>>>7)&31]+a[l>>>2&31]+a[l<<3&31]+"=");return n}if(r){d=f;n="";p=d.length;e=0;for(q=5*parseInt(p/5);e<q;)c=d.charCodeAt(e++),g=d.charCodeAt(e++),b=d.charCodeAt(e++),l=d.charCodeAt(e++),k=d.charCodeAt(e++),n+=a[c>>>3]+a[(c<<2|g>>>
6)&31]+a[g>>>1&31]+a[(g<<4|b>>>4)&31]+a[(b<<1|l>>>7)&31]+a[l>>>2&31]+a[(l<<3|k>>>5)&31]+a[k&31];c=p-q;1==c?(c=d.charCodeAt(e),n+=a[c>>>3]+a[c<<2&31]+"======"):2==c?(c=d.charCodeAt(e++),g=d.charCodeAt(e),n+=a[c>>>3]+a[(c<<2|g>>>6)&31]+a[g>>>1&31]+a[g<<4&31]+"===="):3==c?(c=d.charCodeAt(e++),g=d.charCodeAt(e++),b=d.charCodeAt(e),n+=a[c>>>3]+a[(c<<2|g>>>6)&31]+a[g>>>1&31]+a[(g<<4|b>>>4)&31]+a[b<<1&31]+"==="):4==c&&(c=d.charCodeAt(e++),g=d.charCodeAt(e++),b=d.charCodeAt(e++),l=d.charCodeAt(e),n+=a[c>>>
3]+a[(c<<2|g>>>6)&31]+a[g>>>1&31]+a[(g<<4|b>>>4)&31]+a[(b<<1|l>>>7)&31]+a[l>>>2&31]+a[l<<3&31]+"=");return n}var d=f,h,n=!1,e="";l=c=0;g=d.length;do{m[0]=m[5];m[1]=m[6];m[2]=m[7];for(k=l;c<g&&5>k;++c)b=d.charCodeAt(c),128>b?m[k++]=b:(2048>b?m[k++]=192|b>>6:(55296>b||57344<=b?m[k++]=224|b>>12:(b=65536+((b&1023)<<10|d.charCodeAt(++c)&1023),m[k++]=240|b>>18,m[k++]=128|b>>12&63),m[k++]=128|b>>6&63),m[k++]=128|b&63);l=k-5;c==g&&++c;c>g&&6>k&&(n=!0);b=m[0];4<k?(k=m[1],p=m[2],q=m[3],h=m[4],e+=a[b>>>3]+a[(b<<
2|k>>>6)&31]+a[k>>>1&31]+a[(k<<4|p>>>4)&31]+a[(p<<1|q>>>7)&31]+a[q>>>2&31]+a[(q<<3|h>>>5)&31]+a[h&31]):1==k?e+=a[b>>>3]+a[b<<2&31]+"======":2==k?(k=m[1],e+=a[b>>>3]+a[(b<<2|k>>>6)&31]+a[k>>>1&31]+a[k<<4&31]+"===="):3==k?(k=m[1],p=m[2],e+=a[b>>>3]+a[(b<<2|k>>>6)&31]+a[k>>>1&31]+a[(k<<4|p>>>4)&31]+a[p<<1&31]+"==="):4==k&&(k=m[1],p=m[2],q=m[3],e+=a[b>>>3]+a[(b<<2|k>>>6)&31]+a[k>>>1&31]+a[(k<<4|p>>>4)&31]+a[(p<<1|q>>>7)&31]+a[q>>>2&31]+a[q<<3&31]+"=")}while(!n);return e},decode:r};t.HI_BASE32_TEST&&(r.toUtf8String=
v);!t.HI_BASE32_TEST&&u?module.exports=r:t&&(t.base32=r)})(this);
